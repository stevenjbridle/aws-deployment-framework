pipelines:
- default_providers:
    build:
      provider: codebuild
    deploy:
      provider: cloudformation
    source:
      properties:
        account_id: '735055453237'
      provider: codecommit
  name: sample-network-deploy
  params:
    notification_endpoint: jlliddal+adf-network-pipeline@amazon.com
    restart_execution_on_update: false
  targets:
  - cfns:
    - properties:
        stack_name: PREFIX-15-CFN-test
        template_filename: PREFIX-15-CFN-test.yml
    - properties:
        stack_name: PREFIX-88-CFN-test
        template_filename: PREFIX-88-CFN-test.yml
    - properties:
        stack_name: PREFIX-03-CFN-test
        template_filename: PREFIX-03-CFN-test.yml
    path: '735055453237'
    provider: cfn-series
- default_providers:
    build:
      provider: codebuild
    deploy:
      provider: cloudformation
    source:
      properties:
        account_id: '191269481282'
      provider: codecommit
  name: sample-server-deploy
  params:
    notification_endpoint: jlliddal+adf-server-pipeline@amazon.com
    restart_execution_on_update: false
  targets:
  - path: '735055453237'
    provider: cfn-series
- default_providers:
    build:
      provider: codebuild
    deploy:
      provider: cloudformation
    source:
      properties:
        account_id: '394469725684'
      provider: codecommit
  name: sample-cloud-deploy
  params:
    notification_endpoint: jlliddal+adf-network-pipeline@amazon.com
    restart_execution_on_update: true
  targets:
  - cfns:
    - properties:
        role: cloudteam-cloudformation-role-1
        stack_name: PREFIX-01-CFN-test
        template_filename: PREFIX-01-CFN-test.yml
    - properties:
        role: cloudteam-cloudformation-role-1
        stack_name: PREFIX-02-CFN-test
        template_filename: PREFIX-02-CFN-test.yml
    - properties:
        role: cloudteam-cloudformation-role-2
        stack_name: PREFIX-05-CFN-test
        template_filename: PREFIX-05-CFN-test.yml
    path:
    - /deployment
    - /gw
    provider: cfn-series
